{
  "id": "org.freedesktop.Sdk.Extension.rust-nightly",
  "branch": "19.08",
  "runtime": "org.freedesktop.Sdk",
  "build-extension": true,
  "sdk": "org.freedesktop.Sdk",
  "runtime-version": "19.08",
  "sdk-extensions": [],
  "separate-locales": false,
  "appstream-compose": false,
  "cleanup": [
    "/share/info",
    "/share/man"
  ],
  "build-options": {
    "prefix": "/usr/lib/sdk/rust-nightly"
  },
  "modules": [{
      "name": "rust",
      "buildsystem": "simple",
      "cleanup": [
        "/share/doc/rust/html"
      ],
      "sources": [{
          "type": "archive",
          "only-arches": [
            "arm"
          ],
          "url": "https://static.rust-lang.org/dist/2019-10-17/rust-nightly-arm-unknown-linux-gnueabi.tar.gz",
          "sha256": "c2e0bd1da9b148b240454261e554ffd5e226fba4bec9192134de4fe6b87f06c4"
        },
        {
          "type": "archive",
          "only-arches": [
            "aarch64"
          ],
          "url": "https://static.rust-lang.org/dist/2019-10-17/rust-nightly-aarch64-unknown-linux-gnu.tar.gz",
          "sha256": "21369cd9833714340dfada554c038cb8002715d0ed880325fcdcf54a7f62f691"
        },
        {
          "type": "archive",
          "only-arches": [
            "x86_64"
          ],
          "url": "https://static.rust-lang.org/dist/rust-1.38.0-x86_64-unknown-linux-gnu.tar.gz",
          "sha256": "adda26b3f0609dbfbdc2019da4a20101879b9db2134fae322a4e863a069ec221"
        }
      ],
      "build-commands": [
        "./install.sh --prefix=/usr/lib/sdk/rust-nightly --disable-ldconfig --verbose"
      ]
    },
    {
      "name": "scripts",
      "sources": [{
        "type": "script",
        "commands": [
          "export PATH=$PATH:/usr/lib/sdk/rust-nightly/bin"
        ],
        "dest-filename": "enable.sh"
      }],
      "buildsystem": "simple",
      "build-commands": [
        "cp enable.sh /usr/lib/sdk/rust-nightly/"
      ]
    },
    {
      "name": "appdata",
      "buildsystem": "simple",
      "build-commands": [
        "mkdir -p ${FLATPAK_DEST}/share/metainfo",
        "cp org.freedesktop.Sdk.Extension.rust-nightly.metainfo.xml ${FLATPAK_DEST}/share/metainfo",
        "appstream-compose  --basename=org.freedesktop.Sdk.Extension.rust-nightly --prefix=${FLATPAK_DEST} --origin=flatpak org.freedesktop.Sdk.Extension.rust-nightly"
      ],
      "sources": [{
        "type": "file",
        "path": "org.freedesktop.Sdk.Extension.rust-nightly.metainfo.xml"
      }]
    }
  ]
}